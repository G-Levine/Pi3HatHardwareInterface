<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="test_state_publisher_robot">

    <link name="base_link">
      <inertial>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <mass value="3.0"/>
        <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>
      </inertial>
      <visual name="Cube">
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <box size="0.24 0.14 0.22"/>
        </geometry>
      </visual>
    </link>

    <link name="imu">
      <inertial>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <mass value="0.001"/>
        <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>
      </inertial>
    </link>

    <joint name="imu" type="fixed">
      <origin xyz="0 0 0" rpy="1.5708 0 1.5708"/>
      <parent link="base_link"/>
      <child link="imu"/>
    </joint>

    <ros2_control name="pi3hat_hardware_interface" type="system">
      <hardware>
        <plugin>pi3hat_hardware_interface/Pi3HatHardwareInterface</plugin>
      </hardware>
      <sensor name="imu_sensor">
        <state_interface name="orientation.x"/>
        <state_interface name="orientation.y"/>
        <state_interface name="orientation.z"/>
        <state_interface name="orientation.w"/>
        <state_interface name="angular_velocity.x"/>
        <state_interface name="angular_velocity.y"/>
        <state_interface name="angular_velocity.z"/>
        <state_interface name="linear_acceleration.x"/>
        <state_interface name="linear_acceleration.y"/>
        <state_interface name="linear_acceleration.z"/>
      </sensor>
    </ros2_control>

</robot>